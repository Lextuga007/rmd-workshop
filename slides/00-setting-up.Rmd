---
title: "R Markdown Setting up"
session: "00"
subtitle: "Adapted from slides by Alison Hill (RStudio)"
author: ZoÃ« Turner
date: "`r Sys.Date()`"
output:
  xaringan::moon_reader:
    css: ["default", "assets/css/my-theme.css", "assets/css/my-fonts.css"]
    seal: false 
    lib_dir: libs
    nature:
      highlightStyle: dracula
      highlightLanguage: ["r", "yaml", "markdown"]
      highlightLines: true
      countIncrementalSlides: false
      ratio: "16:9"
    includes:
      in_header: assets/header.html  
params:
  site_link: "https://philosopher-analyst.netlify.app/rmd-workshop/"
  cloud_link: "https://rstudio.cloud/"
  github_link: "https://github.com/Lextuga007/rm_01_basics"
---

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
episode_counter <- 0
knitr::opts_chunk$set(
  collapse = TRUE,   
  comment = "#>"
)
```

```{r packages, include=FALSE}
library(countdown)
library(ymlthis)
library(tidyverse)
library(bakeoff)
library(xaringanExtra)

xaringanExtra::use_clipboard()
xaringanExtra::use_share_again() # need to get the slide button on html view
```

class: title-slide, center, middle

<span class="fa-stack fa-4x">
  <i class="fa fa-circle fa-stack-2x" style="color: #ffffffcc;"></i>
  <strong class="fa-stack-1x" style="color:#e7553c;">`r rmarkdown::metadata$session`</strong>
</span> 

# `r rmarkdown::metadata$title`

## `r rmarkdown::metadata$subtitle`

### `r rmarkdown::metadata$author` 

#### [`r params$site_link`](`r params$site_link`)


---
class: middle, center

# Agenda
RMarkdown <br/>
<br/> Getting set up <br/>
<br/> --------- Break --------- <br/>
<br/> What's inside?  <br/>
<br/> Text <br/>
<br/> Images <br/>
<br/> --------- Break --------- <br/>
<br/> Code chunks <br/>
<br/> --------- Lunch ----------- <br/>
<br/>  <br/>
<br/>  <br/>
<br/> --------- Break --------- <br/>
<br/>  <br/>
<br/>  <br/>
<br/> .green[Finish about 4 - 430pm] <br/>
---
layout: true

<div class="my-footer"><span>`r params$site_link`</span></div>

---

```{r child="what-is-rmd.Rmd"}

```

---

.left-column[
<span class="fa-stack fa-4x">
  <i class="fa fa-circle fa-stack-2x" style="color: #f2e255"></i>
  <strong class="fa-stack-1x" style="color: #fff;">?</strong>
</span> 
]

.right-column[

# What is R Markdown?

1. ["An authoring framework for data science."](https://rmarkdown.rstudio.com/lesson-1.html) (`r emo::ji("heavy_check_mark")`)

1. [A document format (`.Rmd`).](https://bookdown.org/yihui/rmarkdown/) (`r emo::ji("heavy_check_mark")`)

1. [An R package named `rmarkdown`.](https://rmarkdown.rstudio.com/docs/) (`r emo::ji("heavy_check_mark")`)

1. ["A file format for making dynamic documents with R."](https://rmarkdown.rstudio.com/articles_intro.html) (`r emo::ji("heavy_check_mark")`)

1. ["A tool for integrating text, code, and results."](https://r4ds.had.co.nz/communicate-intro.html) (`r emo::ji("heavy_check_mark")`)

1. ["A computational document."](http://radar.oreilly.com/2011/07/wolframs-computational-documen.html) (`r emo::ji("heavy_check_mark")`)

1. Wizardry. (`r emo::ji("wizard")`)

]

---

.left-column[

# <i class="fab fa-github"></i>

]

.right-column[

# Go here:

[`r params$github_link`](`r params$github_link`)

Click on "Use this template" (make sure you are logged in)

```{r echo=FALSE}
knitr::include_graphics("images/cloud-from-template.png")
```

]

---

.left-column[

# <i class="fab fa-github"></i>

]

.right-column[

# In your repo

Click on green button, then the clipboard to copy HTTPS

```{r echo=FALSE}
knitr::include_graphics("images/cloud-from-https.png")
```
]

---

.left-column[

# <i class="fas fa-cloud"></i>

]

.right-column[

# Go to rstudio.cloud:

[`r params$cloud_link`](`r params$cloud_link`)

1. Join space > Click on "Projects" (nothing there)

1. New Project from GitHub Repo

1. Use **your** HTTPS link:


  ```{r echo=FALSE, out.width='50%'}
  knitr::include_graphics("images/cloud-from-git.png")
  ```

1. Name your project

]

---

.left-column[

# <i class="fas fa-cloud"></i>

]

.right-column[

# Install packages

```{r eval=FALSE}
install.packages(c("tidyverse", "rmarkdown", "here", 
                   "glue", "usethis", "distill", "bookdown"))
```

]

???
When the rmds are opened RStudio will say along the top if there are any references
to packages that haven't been installed but the next slide includes a package that 
isn't in the code {usethis}

In the cloud takes about 1 minutes to load all the packages.

---

.left-column[

# <i class="fas fa-cloud"></i>

]

.right-column[

# Connect to GitHub

Still in rstudio.cloud:

```{r eval=FALSE}
library(usethis)
use_git_config(
  scope = "project",
  user.name = "Jane",
  user.email = "jane@example.org"
)
```

]

---
class: your-turn

# Your turn

Time to look at `01-bakeoff-report.Rmd`. 
Look at the source, then `r emo::ji("yarn")` **Knit** to HTML.

Try to identify these parts in the source and the output:

1. The **metadata**

1. The **text** 

1. The **code**

1. The **output**

**If this was easy**, try to find all code that produces a *plot*.


```{r echo = FALSE}
countdown(minutes = 5)
```

---
class: live-code

# Basic anatomy I

We look at the *source* anatomy for `01-bakeoff-report.Rmd` together:

1. The **metadata**

1. The **text** 

1. The **code**
    

???
Point out the parts in the Rmd script. For further documentation on metadata
https://rmarkdown.rstudio.com/docs/reference/rmd_metadata.html
    
---

class: live-code

# Basic anatomy II

We look at the *output* anatomy for `01-bakeoff-report.Rmd` together:

1. The **metadata**

1. The **text** 

1. The **code**

1. The **output**


---
background-image: url(images/rmarkdown_wizards.png)
background-size: contain

.footnote[Art by [Allison Horst](https://twitter.com/allison_horst?lang=en)]
