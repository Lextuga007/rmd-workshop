---
title: "Templates"
session: "03"
subtitle: "Young Statisticians Conference 2019"
author: Alison Hill
date: "`r Sys.Date()`"
output:
  xaringan::moon_reader:
    css: ["default", "assets/css/my-theme.css", "assets/css/my-fonts.css"]
    seal: false 
    lib_dir: libs
    nature:
      highlightStyle: dracula
      highlightLanguage: ["r", "yaml", "markdown"]
      slideNumberFormat: "" 
      highlightLines: true
      countIncrementalSlides: false
      ratio: "16:9"
      beforeInit: "https://platform.twitter.com/widgets.js"
    includes:
      in_header: assets/header.html  
params:
  wifi_network: "Functions"
  wifi_password: "Stata_16"
  site_link: "https://ysc-rmarkdown.netlify.com/"
  cloud_link: "http://bit.ly/ysc-rmarkdown"
  github_link: "https://github.com/ysc2019-workshop/03-templates"
---

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
episode_counter <- 0
knitr::opts_chunk$set(
  collapse = TRUE,   
  comment = "#>"
)
```

```{r packages, include=FALSE}
library(countdown)
library(ymlthis)
```


class: title-slide, center, middle

<span class="fa-stack fa-4x">
  <i class="fa fa-circle fa-stack-2x" style="color: #ffffffcc;"></i>
  <strong class="fa-stack-1x" style="color:#e7553c;">`r rmarkdown::metadata$session`</strong>
</span> 

# `r rmarkdown::metadata$title`

## `r rmarkdown::metadata$subtitle`

### `r rmarkdown::metadata$author` &#183; RStudio

#### [`r params$site_link`](`r params$site_link`)


---
layout: true

<div class="my-footer"><span>`r params$site_link`</span></div>

---
class: middle, center, inverse

<span class="fa-stack fa-4x">
  <i class="fa fa-circle fa-stack-2x" style="color: #fff;"></i>
  <strong class="fa-stack-1x" style="color:#17a2b8;">`r (episode_counter <- episode_counter + 1)` </strong>
</span> 

--

# Templates

---
class: live-code

# Demo using a template

+ The one that ships with `rmarkdown`
  + _File > New File > R Markdown_; select "Document"

+ One from my package
  + _File > New File > R Markdown_; select "From Template"


---
what are we doing? We'll build a package first, then add some R Markdown templates

---
class: middle, center, inverse

<span class="fa-stack fa-4x">
  <i class="fa fa-circle fa-stack-2x" style="color: #fff;"></i>
  <strong class="fa-stack-1x" style="color:#17a2b8;">`r (episode_counter <- episode_counter + 1)` </strong>
</span> 

--

# Packages

---
class: live-code

# Basic package anatomy

- NAMESPACE
- DESCRIPTION

```{r eval=FALSE}
usethis::create_package(here::here())
```

---
class: live-code

# Basic template anatomy

+ `template.yaml`
+ `skeleton/skeleton.Rmd`

```{r eval=FALSE}
usethis::use_rmarkdown_template("01-rmd")
```

---
class: middle, inverse, center

# DO NOT KNIT!

Do not try to knit the skeleton.Rmd


![](https://media.giphy.com/media/Vg6vGMxVs9Sve/giphy.gif)

---
class: your-turn

# Your turn

Open up my existing `01-rmd` template &mdash; find in `inst/rmarkdown/templates/01-rmd`.

1. Add your name and a title to this template. 
1. Edit the YAML for the built-in `html_document` output format. Consider adding some of your favorite output options for the HTML format (theme? floating toc? parameters?)
1. Edit the content. Add a good `knitr` setup chunk at the top.

---
class: live-code

# Build package

We build the package using "Install and Restart" and confirm we see it locally.

---
class: live-code

# Use the template

We demo creating a new project in RStudio and using the template there so as not to pollute our package project.

---
class: middle, center, inverse

<span class="fa-stack fa-4x">
  <i class="fa fa-circle fa-stack-2x" style="color: #fff;"></i>
  <strong class="fa-stack-1x" style="color:#17a2b8;">`r (episode_counter <- episode_counter + 1)` </strong>
</span> 

--

# Extension Formats

---

Now try creating a fresh template on your own, and use an extension output format like:

+ `distill::distill_article`
+ `bookdown::html_document2`
+ `xaringan::moon_reader`
+ `flexdashboard::flexdashboard`



---
class: middle, center, inverse

<span class="fa-stack fa-4x">
  <i class="fa fa-circle fa-stack-2x" style="color: #fff;"></i>
  <strong class="fa-stack-1x" style="color:#17a2b8;">`r (episode_counter <- episode_counter + 1)` </strong>
</span> 

--

# Custom Styles

---

now we talk about adding supporting files like a logo and css. See my `03-custom-rmd` template.

---
class: middle, center, inverse

<span class="fa-stack fa-4x">
  <i class="fa fa-circle fa-stack-2x" style="color: #fff;"></i>
  <strong class="fa-stack-1x" style="color:#17a2b8;">`r (episode_counter <- episode_counter + 1)` </strong>
</span> 

--

# Custom Formats

---

now we talk about adding supporting files like a logo and css. See my `04-custom-format` template.

---
teaser at end re project templates
---
class: middle, center, inverse

# `r emo::ji("stopwatch")`

# Time for a break!

```{r echo = FALSE}
countdown(minutes = 30, update_every = 15)
```



